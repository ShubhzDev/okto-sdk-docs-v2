---
title: React Setup
description: Learn how to create a React app and initialize it with the Okto SDK, including setting up authentication and executing your first token transfer.
full: false
---

import { Step, Steps } from "fumadocs-ui/components/steps";
import { Tab, Tabs } from "fumadocs-ui/components/tabs";
import { Callout } from 'fumadocs-ui/components/callout';
import CollapsibleCallout from 'app/components/mdx/CollapsibleCallout';
import ExternalLink from 'app/components/mdx/ExternalLink';

<Callout type="info" emoji="ðŸš€">
### Quick Start Template Available!
Skip the manual setup and get started in minutes with our <ExternalLink href="/docs/react-sdk/templateRepo">Template Repository</ExternalLink>. It includes:
- Pre-configured Okto SDK integration
- Authentication setup
- Example components and operations
</Callout>

<CollapsibleCallout type="warning" title="Essential Setup Required">
Before proceeding with this guide, please ensure you have:
- Created your Okto Dashboard account
- Obtained your API keys from the dashboard
- Enabled the specific chains and tokens you plan to use in your application

Without completing these steps first, your application won't be able to interact with the Okto platform properly. Need help? Check out our <a href="/docs/developer-admin-dashboard/overview" target="_blank" rel="noopener noreferrer">Dashboard Setup Guide</a> for detailed instructions.
</CollapsibleCallout>

<Steps>

<Step>
    ## Prerequisites

    Before getting started, ensure you have the following:
    - **Node.js (v18+) and npm/pnpm/yarn:** <ExternalLink href="https://nodejs.org/">Download Node.js</ExternalLink>
    - **Okto API Keys:** You need your `VITE_CLIENT_PRIV_KEY` and `VITE_CLIENT_SWA`. Obtain these from the Okto Dashboard.
    - **Google OAuth Credentials:** Create OAuth 2.0 credentials in the <ExternalLink href="https://console.cloud.google.com/">Google Cloud Console</ExternalLink> to get your `GOOGLE_CLIENT_ID`.

    <CollapsibleCallout type="tip" title="Setting up Google OAuth">
    1. Go to <ExternalLink href="https://console.cloud.google.com/">Google Cloud Console</ExternalLink>.
    2. Create OAuth 2.0 credentials for your project.
    3. Set the redirect URI to: `[YOUR_APP_URL]` (for example, `http://localhost:3000` during local development).
    4. Save your Client ID.

    Need detailed instructions? Check our <ExternalLink href="/docs/react-sdk/authenticate-users/google-oauth/google-console-setup">Google Console Setup Guide</ExternalLink>.
    </CollapsibleCallout>

</Step>

<Step>
    ## 1. Initialize a Vite React App

    If you already have a React app, you can skip this step and proceed directly to Step 2 to start integrating Okto.

    To create a new React app, run the following commands in your terminal:

    ```bash title="bash"
    npm create vite@latest my-okto-app --template react-ts
    cd my-okto-app
    ```

    <Callout type="tip" title="Resolving Vite Buffer Error">
    To resolve a buffer not defined error with Vite, update your `vite.config.ts` file with the following configuration:

    ```typescript title="vite.config.ts"
    import { defineConfig } from 'vite'
    import react from '@vitejs/plugin-react'
    import { nodePolyfills } from 'vite-plugin-node-polyfills'

    // https://vite.dev/config/
    export default defineConfig({
      plugins: [react(), nodePolyfills()],
      server: {
        port: 3000, // will always start the service on port 3000
      }
    })
    ```

    Don't forget to install the required package:
    ```bash
    npm i -D vite-plugin-node-polyfills
    ```

    </Callout>

</Step>

<Step>
    ## 2. Install Dependencies

    Install the required packages:

    <Tabs items={['npm', 'pnpm', 'yarn']}>
        <Tab value="npm">
            ```bash
            npm i @okto_web3/react-sdk@latest @react-oauth/google
            ```
        </Tab>
        <Tab value="pnpm">
            ```bash
            pnpm add @okto_web3/react-sdk@latest @react-oauth/google
            ```
        </Tab>
        <Tab value="yarn">
            ```bash
            yarn add @okto_web3/react-sdk@latest @react-oauth/google
            ```
        </Tab>
    </Tabs>

</Step>

<Step>
    ## 3. Configure Environment Variables

    Create a `.env` file in your project root:

    ```bash title=".env"
    VITE_CLIENT_PRIV_KEY="YOUR_CLIENT_PRIVATE_KEY"
    VITE_CLIENT_SWA="YOUR_CLIENT_SWA"

    # Google OAuth credentials (Required only if you want to enable Google Sign-In)
    VITE_GOOGLE_CLIENT_ID="YOUR_GOOGLE_CLIENT_ID"
    ```

    Replace the placeholders with your actual credentials.
    <CollapsibleCallout type="warning" title="Important">
        - Replace all placeholder values (`YOUR_...`) with your actual keys.
        - Never commit your `.env` file to version control. Add it to your `.gitignore`.
    </CollapsibleCallout>
    <CollapsibleCallout type="tip" title="Setting up Google OAuth">
        1. Go to <ExternalLink href="https://console.cloud.google.com/">Google Cloud Console</ExternalLink>.
        2. Create OAuth 2.0 credentials for your project.
        3. Set the redirect URI to: `[YOUR_APP_URL]/auth/google` (for example, `http://localhost:5173/auth/google` during local development).
        4. Save your Client ID and Client Secret.

        Need detailed instructions? Check our <ExternalLink href="/docs/react-sdk/authenticate-users/google-oauth/google-console-setup">Google Console Setup Guide</ExternalLink>.
    </CollapsibleCallout>

</Step>

<Step>
    ## 4. Set Up Okto Provider

    Update your `main.tsx` to initialize the Okto SDK:

    ```tsx title="main.tsx"
    import React from "react";
    import ReactDOM from "react-dom/client";
    import App from "./App";
    import { OktoProvider } from "@okto_web3/react-sdk";

    const config = {
        environment: "sandbox",
        clientPrivateKey: import.meta.env.VITE_CLIENT_PRIV_KEY,
        clientSWA: import.meta.env.VITE_CLIENT_SWA,
    };

    ReactDOM.createRoot(document.getElementById("root")!).render(
        <React.StrictMode>
            <OktoProvider config={config}>
                <App />
            </OktoProvider>
        </React.StrictMode>
    );
    ```

</Step>

<Step>
    ## 5. Set Up Google OAuth Provider

    Wrap your app with the Google OAuth provider:

    ```tsx title="main.tsx"
    import React from "react";
    import ReactDOM from "react-dom/client";
    import App from "./App";
    import { GoogleOAuthProvider } from "@react-oauth/google";
    import { OktoProvider } from "@okto_web3/react-sdk";

    const config = {
        environment: "sandbox",
        clientPrivateKey: import.meta.env.VITE_CLIENT_PRIV_KEY,
        clientSWA: import.meta.env.VITE_CLIENT_SWA,
    };

    ReactDOM.createRoot(document.getElementById("root")!).render(
        <React.StrictMode>
            <GoogleOAuthProvider clientId={import.meta.env.VITE_GOOGLE_CLIENT_ID}>
                <OktoProvider config={config}>
                    <App />
                </OktoProvider>
            </GoogleOAuthProvider>
        </React.StrictMode>
    );
    ```

</Step>

<Step>
    ## 6. Implement Authentication

    Currently, you can onboard users and support on-chain interaction via the Okto Embedded wallet. To do this you must first authenticate your user via social login. We currently support Google OAuth.

    1. Create the basic authentication component:

    ```tsx title="App.tsx"
    import { useOkto } from "@okto_web3/react-sdk";
    import { GoogleLogin } from "@react-oauth/google";

    function App() {
        const oktoClient = useOkto();

        async function handleGoogleLogin(credentialResponse: any) {
            try {
                await oktoClient.loginUsingOAuth({
                    idToken: credentialResponse.credential,
                    provider: "google",
                });
            } catch (error) {
                console.error("Authentication error:", error);
            }
        }

        return (
            <div>
                {oktoClient.userSWA ? (
                    <UserDashboard />
                ) : (
                    <GoogleLogin onSuccess={handleGoogleLogin} />
                )}
            </div>
        );
    }

    export default App;
    ```

    2. After successful authentication, an Okto session is created and an Okto auth token is returned. The Okto Auth token is a JWT token similar to Google ID token and can be verified.

    3. You can retrieve the auth token after login using:

    ```tsx
    const authToken = await oktoClient.getAuthToken();
    ```

    The user's embedded wallet is automatically created or retrieved once the session is created and can be accessed via TypeScript and React.

</Step>

<Step>
    ## 7. Get User Details and Portfolio

    Create a UserDashboard component to display user information:

    ```tsx title="UserDashboard.tsx"
    import { useOkto, getAccount, getPortfolio } from "@okto_web3/react-sdk";
    import { useEffect, useState } from "react";

    export function UserDashboard() {
        const oktoClient = useOkto();
        const [accounts, setAccounts] = useState([]);
        const [portfolio, setPortfolio] = useState(null);

        useEffect(() => {
            async function fetchUserData() {
                // Get user's accounts/wallets
                const userAccounts = await getAccount(oktoClient);
                setAccounts(userAccounts.data);

                // Get user's portfolio
                const userPortfolio = await getPortfolio(oktoClient);
                setPortfolio(userPortfolio);
            }

            fetchUserData();
        }, []);

        return (
            <div>
                <h2>Welcome {oktoClient.userSWA?.userAddress}</h2>
                <h3>Your Accounts:</h3>
                {accounts.map(account => (
                    <div key={account.caip_id}>
                        <p>Network: {account.network_name}</p>
                        <p>Address: {account.address}</p>
                    </div>
                ))}

                <h3>Portfolio:</h3>
                <pre>{JSON.stringify(portfolio, null, 2)}</pre>
            </div>
        );
    }
    ```

</Step>

<Step>
    ## 8. Start Development Server

    Run your app:

    ```bash
    npm run dev
    ```

    Visit `http://localhost:5173` in your browser.

</Step>

<Step>
    ## 9. Congratulations!

    ðŸŽ‰ Your basic Okto integration is now complete! You're ready to bring your dApp to life. Let's try out a simple user operation!

</Step>

</Steps>

<br/>
## Trying Out a User Operation

Now that we have our basic setup complete, let's implement a token transfer on Solana devnet to understand how user operations work in Okto.

<Steps>

<Step>
    ### 1. Get Your Wallet Address

    First, get your Polygon wallet address:

    ```tsx
    import { getAccount } from "@okto_web3/react-sdk";

    const accounts = await getAccount(oktoClient);
    const polygonAccount = accounts.data.find(account => account.network_name === "POLYGON_TESTNET_AMOY");
    console.log("Your Polygon Amoy address:", polygonAccount.address);
    ```

</Step>

<Step>
    ### 2. Fund Your Wallet

    To perform a token transfer, you'll need some funds in your wallet. Add funds to this address using the [Polygon Amoy Faucet](https://faucet.polygon.technology/).

</Step>

<Step>
    ### 3. Check Network Information

    Before creating the user operation, check the [Network Information Guide](/docs/react-sdk/technical-reference#network-information) for getting the correct CAIP-2 IDs of chains.

</Step>

<Step>
    ### 4. Implement Token Transfer

    Create a new component for handling the transfer:

    ```tsx title="TokenTransfer.tsx"
    import { useOkto } from "@okto_web3/react-sdk";
    import { tokenTransfer } from "@okto_web3/react-sdk/abstracted";
    import { useState } from "react";

    export function TokenTransfer() {
        const oktoClient = useOkto();
        const [status, setStatus] = useState("");

        async function handleTransfer() {
            try {
                const transferParams = {
                    amount: BigInt("1000000000000000000"), // 1 POL (18 decimals)
                    recipient: "RECIPIENT_ADDRESS",
                    token: "", // Empty string for native token
                    caip2Id: "eip155:80002" // Polygon Amoy Testnet chain ID
                };

                //create the userop
                const userOp = await tokenTransfer(oktoClient, transferParams);

                //sign the userop
                const signedUserop = await oktoClient.signUserop(userOp);

                //execute the userop
                const txHash = await oktoClient.executeUserop(signedUserop);
                setStatus(`Transfer executed! Result: ${txHash}`);
            } catch (error) {
                console.error("Transfer failed:", error);
                setStatus(`Transfer failed: ${error.message}`);
            }
        }

        return (
            <div>
                <h2>Token Transfer</h2>
                <button onClick={handleTransfer}>
                    Send 1 POL
                </button>
                <p>{status}</p>
            </div>
        );
    }
    ```

</Step>

<Step>
    ### 5. Verify The Transfer

    After the transfer is complete, you can verify it through:
    - The `getPortfolio` method to check your updated balance
    - The [Polygon Explorer](https://amoy.polygonscan.com/) using the transaction hash

</Step>

</Steps>

Now that you've completed your first user operation, you're ready to explore more advanced features! Check out our [Usage Guide](/docs/react-sdk/usage-overview) to learn about other operations like NFT transfers, contract interactions, and more.

<Callout>
For more examples and advanced usage, check out the [Template Repo](https://github.com/okto-hq/okto-sdkv2-react-template-app).
</Callout>

## SDK Reference

### Get Commands

| Command | Description | Documentation |
|---------|-------------|---------------|
| `const account = await getAccount(oktoClient);` | Get user's wallet details | <ExternalLink href="/docs/react-sdk/getAccount">Method Overview</ExternalLink> |
| `const chains = await getChains(oktoClient);` | List supported blockchain networks | <ExternalLink href="/docs/react-sdk/getChains">Method Overview</ExternalLink> |
| `const tokens = await getTokens(oktoClient);` | List supported tokens | <ExternalLink href="/docs/react-sdk/getTokens">Method Overview</ExternalLink> |
| `const portfolio = await getPortfolio(oktoClient);` | Get user's token holdings | <ExternalLink href="/docs/react-sdk/getPortfolio">Method Overview</ExternalLink> |
| `const nfts = await getPortfolioNFT(oktoClient);` | Get user's NFT holdings | <ExternalLink href="/docs/react-sdk/getPortfolioNFT">Method Overview</ExternalLink> |
| `const activity = await getPortfolioActivity(oktoClient);` | Get transaction history | <ExternalLink href="/docs/react-sdk/getPortfolioActivity">Method Overview</ExternalLink> |
| `const orders = await getOrdersHistory(oktoClient);` | Get transaction order history | <ExternalLink href="/docs/react-sdk/getOrdersHistory">Method Overview</ExternalLink> |
| `const collections = await getNftCollections(oktoClient);` | Get NFT collections | <ExternalLink href="/docs/react-sdk/getNFTCollections">Method Overview</ExternalLink> |

### User Operations (Intents)

Intents are pre-built action templates within the Okto SDK that simplify common Web3 tasks. They provide one-liner functions for complex blockchain interactions.

#### 1. Token Transfer
Send tokens to another address. <ExternalLink href="/docs/react-sdk/tokenTransfer">Learn more</ExternalLink>

```typescript
const transferParams = {
  amount: BigInt("1000000000000000000"), // Amount in smallest unit
  recipient: "0xRecipientAddress...", // Recipient wallet address
  token: "", // Token address ("" for native token)
  caip2Id: "eip155:137", // Target chain CAIP-2 ID
};
const result = await tokenTransfer(oktoClient, transferParams);
```

#### 2. NFT Transfer
Transfer NFTs between addresses. <ExternalLink href="/docs/react-sdk/nftTransfer">Learn more</ExternalLink>

```typescript
const nftParams = {
  caip2Id: "eip155:1",                           // Target chain CAIP-2 ID
  collectionAddress: "0xCollectionAddress...",    // NFT Collection address
  nftId: "NFTTokenID",                           // NFT identifier
  recipientWalletAddress: "0xRecipientAddress...",// Recipient address
  amount: 1,                                       // Amount of tokens to transfer
  nftType: "ERC721",                             // or "ERC1155"
};
const result = await nftTransfer(oktoClient, nftParams);
```

#### 3. Raw Transaction (EVM)
Execute custom EVM contract calls. <ExternalLink href="/docs/react-sdk/evmRawTransaction">Learn more</ExternalLink>

```typescript
import { encodeFunctionData } from "viem";

// 1. Define Contract Interaction
const functionName = "setValue";
const functionArgs = [123];

// 2. Encode Function Data
const functionData = encodeFunctionData({
  abi: [
    {
      "name": functionName,
      "type": "function",
      "stateMutability": "nonpayable",
      "inputs": [{ "type": "uint256", "name": "_value" }]
    }
  ],
  functionName,
  args: functionArgs,
});

// 3. Execute Transaction
const rawTxParams = {
  caip2Id: "eip155:1",
  transaction: {
    from: "0xuserWalletAddress",
    to: "0xcontractAddress",
    data: functionData,
    value: BigInt(0),
  },
};
const result = await evmRawTransaction(oktoClient, rawTxParams);
```

---

## Additional Resources

- <ExternalLink href="/docs/react-sdk/troubleshooting">Troubleshooting Guide</ExternalLink>
- <ExternalLink href="/docs/react-sdk/technical-reference">Technical Reference</ExternalLink>
- <ExternalLink href="/docs/react-sdk/usage-overview">Advanced Usage Examples</ExternalLink>

Need help? Join our <ExternalLink href="https://discord.com/invite/okto-916349620383252511">Discord community</ExternalLink> or email us at `devrel@coindcx.com`.